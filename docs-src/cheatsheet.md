# CheatSheet

[Doxygen チートシート](https://qiita.com/yuta-yoshinaga/items/84887a89f6a21a7dcfd5) を参考に C 言語用にアレンジしたチートシートです。

Doxygen の生成処理は制限が多く、記載した内容が正しくドキュメント化されない場合が多いため、本チートシートをコピー＆ペーストして品質の良い Doxygen コメントを付与してください。

以下に無い記載を行う場合は、期待通りの出力が行われるかどうか、生成結果を確認するようにしてください。

## 記載場所別の例

### ソース・ヘッダーファイル

`History` というコマンド (タグ) は存在しないので、ユーザー定義の見出しで表現しています。

```c
/**
 *******************************************************************************
 *  @file           filename.c
 *  @brief          ファイルの概要を表します。
 *  @author         初版作成者を表します。
 *  @date           yyyy/mm/dd (初版作成年月日を表します。)
 *  @version        現在のバージョンを表します。
 *  @par            History
 *                  - yyyy/mm/dd [修正ID](https://example.com/id/1234) 修正の概要
 *                      - 子リスト1
 *                      - 子リスト2
 *                  - yyyy/mm/dd [修正ID](https://example.com/id/5678) 修正の概要
 *                      - 子リスト1  
 *                        子リスト1の続き
 * 
 *  コマンド (タグ) のないコメントは、details として扱われます。  
 *  前のブロックと分離するために 1 行あけて記載します。
 * 
 *  @copyright Copyright (C) CompanyName, Ltd. 2023-2025. All rights reserved.
 * 
 *******************************************************************************
 */
```

### 関数 (メソッド)

```c
/**
 *******************************************************************************
 *  @brief          関数の説明を表します。
 *  @param[in]      引数 (参照専用)
 *  @param[out]     引数 (ポインタ引数等)
 *  @param[in,out]  引数 (ポインタ引数等)
 *  @return         関数戻り値の説明
 *  @warning        重大なエラーや危険の回避のための警告を表します。
 *  @attention      必須の制約条件・使用条件などの注意を表します。
 *  @note           技術的な背景や実装の注釈を表します。
 *  @remarks        使用上のヒントや最適化のアドバイスなどの補足情報を表します。
 *  @deprecated     非推奨であることを記載します。
 *  @since          コードや API がいつから利用可能になったかを記載します。
 * 
 *  PlantUML の図を挿入することができます。<br>
 *  VSCode の PlantUML プラグインを使用するために、
 *  `@startuml` ~ `@enduml` の範囲は行頭の * を記載しません。
 * 
    @startuml
        caption 図のテスト
        circle a
        circle b
        rectangle "a/b" as devide
        circle return
        a -> devide : 被除数
        b -> devide : 除数
        devide -> return
    @enduml
 * 
 *******************************************************************************
 */
```

### 構造体および class のメンバー

```c
    int     intval;         /*!< 変数の説明 */
```

## シナリオ別の記載例

### リスト

```c
/**
 *******************************************************************************
 *  @todo
 *                  - 親リスト1
 *                      - 子リスト1
 *                      - 子リスト2
 *                  - 親リスト2
 *                      - 子リスト1
 *                      - 子リスト2
 *******************************************************************************
 */
```

```c
/**
 *******************************************************************************
 *  @todo           Todo リストの説明
 *                  - 親リスト1
 *                      - 子リスト1
 *                      - 子リスト2
 *                  - 親リスト2
 *                      - 子リスト1
 *                      - 子リスト2
 *******************************************************************************
 */
```

### 表

字下げが多いとプレーン テキストのコード ブロックとして解釈されるため、表を書く際の列セパレータ `|` の字下げは行わないようにします。

Markdown pipe tables 形式の表はサポートされません。サポートされる書式は [Markdown Extensions - Tables](https://www.doxygen.nl/manual/markdown.html#md_tables) を参照してください。  
複雑な表は、[HTML 形式で記載する必要がある](https://www.doxygen.nl/manual/tables.html) ため、非推奨です。

通常の Markdown と異なり、列幅の指定などの書式情報は Doxygen の変換時に失われることがあります。

**不具合:**

表の見出しについて見出し定義の `-` の個数バイトに切り捨てられる不具合があるため、見出しが漢字 (マルチバイト文字) の場合は `-` の個数を調整し正しく表示されるかどうかを確認する必要があります (Doxygen 1.8.14 で現象を確認)。

```c
/**
 *******************************************************************************
 *  @details
 *  表を書く際の列セパレータ `|` の字下げは行わないようにします。  
 *  (字下げが多いとプレーン テキストのコード ブロックとして解釈されるため)
 * 
 *  | No. | 名称                | 備考                        |
 *  | --: | ------------------- | --------------------------- |
 *  |   1 | 名称1               |                             |
 *  |   2 | 名称2               |                             |
 * 
 *  Table: 表のキャプション
 *******************************************************************************
 */
```

```c
/**
 *******************************************************************************
 *  @details
 *  | No. | ヘッダ文字列       |
 *  | --: | ------------------ |
 *  |   1 | 内容1<br />内容2   |
 *  |   2 | テスト             |
 *  |   3 | Test               |
 *  
 *  Table: セル内での改行を含む表
 *******************************************************************************
 */
```
